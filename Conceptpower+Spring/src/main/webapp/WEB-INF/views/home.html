<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
   <head>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="resources/js/bootstrap.min.js" type="text/javascript" ></script>
      <link th:href="@{/resources/assets/css/bootstrap.min.css}" rel="stylesheet" />
      <link th:href="@{/resources/assets/css/homepage.css}" rel="stylesheet" />
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <script>	
         $(document).ready(function(){
         //$('#navLinks').hide();
         $('#signInBtn').click(function(){
         	$('#siginModal').modal('show');
         });
         
         $('#conceptDetails').click(function(){
          	$('#conceptDetailsModal').modal('show');
          });
         
         $('#searchBtn').click(function(){
         	var pos = $('#posWord').text();
         	var word = $("#searchInput").val();
          	$.ajax({
                 type: "GET",
                 url: "rest/ConceptSearch?word="+word+"&pos="+pos,
                 headers:{'Accept': 'application/json'},
                 success: function(response){
                 	console.log('Success');
                 	console.log(response);
                 },
                 error: function(e){
                 	console.log('Failure');
                 }
             }); 
         	}); 
         
         $('#posList div div').on('click', function(){
         	$('#posWord').text($(this).text());
         });
         
         function validate(){
	          var username = document.getElementById("username").value;
	          var password = document.getElementById("password").value;
	          var navbar = document.getElementById("rightNavSection");
	          var btn = document.getElementById("signInBtn");
	          navbar.style.display=none;
	          if ( username == "admin" && password == "admin"){
		          alert ("Login successfully");
		          btn.style.display=none;
		          navbar.style.display=contents;
		          return false;
	          }
	          else{
		          attempt --;// Decrementing by one.
		          alert("You have left "+attempt+" attempt;");
		          // Disabling fields after 3 attempts.
		          if( attempt == 0){
			          document.getElementById("username").disabled = true;
			          document.getElementById("password").disabled = true;
			          document.getElementById("submit").disabled = true;
			          return false;
		          }
	          }
          }
         });
         
      </script>
   </head>
   <body class = "body">
      <main class="wrapper">
         <div th:insert="layouts/navbar :: navbar('false')"></div>
         <div class="searchSection">
            <h1>Welcome to Conceptpower</h1>
            <div class="input-group input-group-lg">
               <input type="text" class="form-control" id="searchInput" placeholder="Type in noun, verb, adjective, adverb...." aria-label="Text input with dropdown button">
               <div class="input-group-append">
                  <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="searchDropDown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span id="posWord" th:text="Noun"></span>&nbsp;<i class="fa fa-caret-down" aria-hidden="true">
                  </i>
                  </button>
                  <div id="posList" class="dropdown-menu">
                     <div th:each="entry: ${conceptSearchBean.posMap}">
                        <div th:text="${entry.value}" class="dropdown-item"></div>
                     </div>
                  </div>
               </div>
            </div>
            <button class="btn btn-outline-success my-2 my-sm-0 signInBtn" th:href="@{/home/conceptsearch?word=cat&pos=verb}" id="searchBtn" type="submit">
            Search
            <i class="fa fa-search" aria-hidden="true"></i>
            </button>
         </div>
         <div class="resultsSection">
            <h4>Results</h4>
            <button class="btn btn-outline-success my-2 my-sm-0 mergeConceptBtn" >
            Select Concepts To merge
            </button>
            <table class="table table-striped resultTable tableStyles" >
               <thead>
                  <tr>
                     <th scope="col"></th>
                     <th scope="col">Term</th>
                     <th scope="col">Id</th>
                     <th scope="col">WordNet ID</th>
                     <th scope="col">POS</th>
                     <th scope="col">Concept List</th>
                     <th scope="col">Description</th>
                     <th scope="col">Type</th>
                     <th style="width:120px;" scope="col">Review Status</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>
                        <div class="dropdown">
                           <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                           <i class="fa fa-pencil-square-o dropright" aria-hidden="true"></i></a>
                           <div class="cardLayout dropdown-menu" role="menu">
                              <div class="card-body">
                                 <a href="#" class="btn btn-primary" id="editBtn">Edit Item</a>
                                 <a href="#" class="btn btn-primary deleteBtn" id="deleteBtn">Delete</a>
                              </div>
                           </div>
                        </div>
                     </td>
                     <td data-toggle="modal" role="button" data-target="siginModal" id="conceptDetails">1</td>
                     <td>Mark</td>
                     <td>Otto</td>
                     <td>@mdo</td>
                     <td>Mark</td>
                     <td>Otto</td>
                     <td>@mdo</td>
                     <td><i class="fa fa-comment" aria-hidden="true"></i></td>
                  </tr>
                  <tr>
                     <td>
                        <div class="dropdown">
                           <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                           <i class="fa fa-pencil-square-o dropright" aria-hidden="true"></i></a>
                           <div class="cardLayout dropdown-menu" role="menu">
                              <div class="card-body">
                                 <a href="#" class="btn btn-primary" id="editBtn">Edit Item</a>
                                 <a href="#" class="btn btn-primary deleteBtn" id="deleteBtn">Delete</a>
                              </div>
                           </div>
                        </div>
                     </td>
                     <td>2</td>
                     <td>Jacob</td>
                     <td>Thornton</td>
                     <td>@fat</td>
                     <td>Mark</td>
                     <td>Otto</td>
                     <td>@mdo</td>
                     <td><i class="fa fa-comment" aria-hidden="true"></i></td>
                  </tr>
                  <tr>
                     <td>
                        <div class="dropdown">
                           <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
                           <i class="fa fa-pencil-square-o dropright" aria-hidden="true"></i></a>
                           <div class="cardLayout dropdown-menu" role="menu">
                              <div class="card-body">
                                 <a href="#" class="btn btn-primary" id="editBtn">Edit Item</a>
                                 <a href="#" class="btn btn-primary deleteBtn" id="deleteBtn">Delete</a>
                              </div>
                           </div>
                        </div>
                     </td>
                     <td>3</td>
                     <td>Larry</td>
                     <td>the Bird</td>
                     <td>@twitter</td>
                     <td>Mark</td>
                     <td>Otto</td>
                     <td>@mdo</td>
                     <td><i class="fa fa-comment" aria-hidden="true"></i></td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div class="pagination">
            <ul class="pagination">
               <li class="page-item disabled">
                  <span class="page-link">Previous</span>
               </li>
               <li class="page-item"><a class="page-link" href="#">1</a></li>
               <li class="page-item active" aria-current="page">
                  <span class="page-link">
                  2
                  <span class="sr-only">(current)</span>
                  </span>
               </li>
               <li class="page-item"><a class="page-link" href="#">3</a></li>
               <li class="page-item">
                  <a class="page-link" href="#">Next</a>
               </li>
            </ul>
         </div>
         <div class='push'></div>
      </main>
      <div th:insert="~{layouts/footer}"></div>
      <div class="modal fade" id="conceptDetailsModal" role="dialog" >
         <div class="modal-content" >
            <div class="modal-body">
               <ul class="list-group" style="margin-bottom: 0px;">
                  <li class="list-group-item">
                     <span class="conceptDetailsKey">Id:</span>
                     <p class="conceptDetailsValue">djf duhpDFPUDBGFD JBVAYOEHRJndf jhdouyvfadouyD BVBDVOADVOA</p>
                  </li>
                  <li class="list-group-item list-group-item-info">
                     <span class="conceptDetailsKey">URI:</span>
                     <p class="conceptDetailsValue">uhpDFPUDB GFDJBVA YOEHRJndf jhdouyvfadou  yDBVBDVOADVOA</p>
                  </li>
                  <li class="list-group-item">
                     <span class="conceptDetailsKey">WordNet Id:</span>
                     <p class="conceptDetailsValue">duhpDFPUDBGF DJBVAYOE HRJndfjhd ouyvfadouyD BVBDVOADVOA</p>
                  </li>
                  <li class="list-group-item list-group-item-info">
                     <span class="conceptDetailsKey">Description</span>
                     <p class="conceptDetailsValue">djfgadyf baduhpDFPUDB GFDJBVAYOEHRJnd fjhdouyvfadouy DBVBDVOADVO Ajfgadyfba duhpDFPUDBGFDJBVA YOEHRJndfjh douyvf adouyDBVBD VOADV OAjfgadyfba duhpDFPUD BGFDJBVAYOEH RJndfjhdouy  vfadouyDBV BDVOADVOA</p>
                  </li>
                  <li class="list-group-item">
                     <span class="conceptDetailsKey">POS:</span>
                  </li>
                  <li class="list-group-item list-group-item-info">
                     <span class="conceptDetailsKey">Concept List:</span>
                  </li>
                  <li class="list-group-item">
                     <span class="conceptDetailsKey">Type:</span>
                  </li>
                  <li class="list-group-item list-group-item-info">
                     <span class="conceptDetailsKey">Equal To:</span>
                  </li>
                  <li class="list-group-item">
                     <span class="conceptDetailsKey">Similar To:</span>
                  </li>
                  <li class="list-group-item list-group-item-info">
                     <span class="conceptDetailsKey">Creator:</span>
                  </li>
                  <li class="list-group-item">
                     <span class="conceptDetailsKey">Merged Ids:</span>
                  </li>
               </ul>
            </div>
         </div>
      </div>
      <div class="modal fade" id="siginModal" role="dialog" >
         <div class="modal-dialog" id="requestBox">
            <div class="modal-content" >
               <div class="modal-body">
                  <div class="form-field">
                     <div class="floatingform" >
                        <div>
                           <div class="form-field">
                              <form name='f' action="" method='post'>
                                 <table>
                                    <tr>
                                       <td>
                                          <h3> Username </h3>
                                       </td>
                                    </tr>
                                    <tr>
                                       <td>
                                          <input type='text' id="username" class="form-control" value='' placeholder="Enter username...">
                                       </td>
                                    </tr>
                                    <tr>
                                       <td>
                                          <h3>Password</h3>
                                       </td>
                                    </tr>
                                    <tr>
                                       <td><input type='password' class="form-control"
                                          id="password" placeholder="Enter Password..."/> </td>
                                    </tr>
                                 </table>
                                 <div id="modalFooter">
                                    <div >
                                       <button class="btn btn-outline-success my-2 my-sm-0 signInBtn" type="submit" id="modalSignInBtn" data-toggle="modal" data-target="siginModal" onclick="validate()">
                                       Sign In
                                       <i class="fa fa-sign-in"></i>
                                       </button>
                                    </div>
                                    <div id="forgotPwd">
                                       <a href="#">Forgot <br/> Password ?</a>
                                    </div>
                                 </div>
                              </form>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>